<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar Administrador | Centinela</title>

    <!-- Fuentes y iconos -->
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Estilos externos -->
    <link rel="stylesheet" href="/components/personalization/personalization.css">

    <!-- Estilos principales -->
    <link rel="stylesheet" href="editAdmin.css">

    <!-- Assets -->
    <link rel="icon" href="/assets/images/logo.png" type="image/png">
    <link rel="manifest" href="/manifest.json">

    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>
    <!-- Partículas de fondo -->
    <canvas id="particle-canvas"></canvas>

    <!-- Contenedor principal con estilo "admin-container" (como en categorías) -->
    <div class="admin-container">
        <!-- Page Header (fuera del wrapper) -->
        <div class="page-header">
            <h1>
                <i class="fas fa-user-cog"></i> EDITAR ADMINISTRADOR
            </h1>
            <div class="header-description">
                Aquí puedes actualizar tu foto de perfil, el logo de la organización y tu información personal.
                Los campos bloqueados son de solo lectura por seguridad.
            </div>
        </div>

        <!-- Wrapper del editor (mantiene su diseño con blur y borde) -->
        <div class="edit-wrapper">

            <!-- Panel izquierdo: Fotos EDITABLES -->
            <div class="edit-left-panel">
                <!-- El título ya no está aquí, ahora está en el page-header -->

                <!-- Foto de perfil (EDITABLE) -->
                <section class="photo-section">
                    <h2 class="section-title">
                        <i class="fas fa-user"></i> FOTO DE PERFIL
                    </h2>

                    <div class="photo-container">
                        <div class="profile-circle" id="profileCircle">
                            <div class="placeholder-text" id="profilePlaceholder">
                                <i class="fas fa-user"></i>
                                <span>Foto de perfil</span>
                            </div>
                            <img src="" alt="Foto de perfil" class="profile-image" id="profileImage"
                                style="display: none;">
                            <div class="edit-overlay" id="editProfileOverlay">
                                <i class="fas fa-pencil-alt edit-icon"></i>
                            </div>
                        </div>
                        <input type="file" id="profile-input" class="file-input" accept="image/*">
                    </div>

                    <p class="photo-info">Haz clic en la foto o en el lápiz para cambiar tu imagen</p>
                    <p class="photo-info">Formatos: JPG, PNG, GIF • Máximo: 5MB</p>
                </section>

                <!-- Logo de organización (EDITABLE) -->
                <section class="photo-section">
                    <h2 class="section-title">
                        <i class="fas fa-building"></i> LOGO ORGANIZACIÓN
                    </h2>

                    <div class="photo-container">
                        <div class="profile-circle" id="orgCircle">
                            <div class="placeholder-text" id="orgPlaceholder">
                                <i class="fas fa-building"></i>
                                <span>Logo organización</span>
                            </div>
                            <img src="" alt="Logo de la organización" class="profile-image" id="orgImage"
                                style="display: none;">
                            <div class="edit-overlay" id="editOrgOverlay">
                                <i class="fas fa-pencil-alt edit-icon"></i>
                            </div>
                        </div>
                        <input type="file" id="org-input" class="file-input" accept="image/*">
                    </div>

                    <p class="photo-info">Haz clic para cambiar el logo de tu organización</p>
                    <p class="photo-info">Recomendado: 500x500 px • Máximo: 10MB</p>
                </section>

                <!-- Botón volver -->
                <footer class="back-btn-container">
                    <button id="backToDashboard" class="back-btn">
                        <i class="fas fa-arrow-left"></i> VOLVER AL DASHBOARD
                    </button>
                </footer>
            </div>

            <!-- Panel derecho: Formulario OPTIMIZADO -->
            <div class="edit-right-panel">
                <header class="edit-header">
                    <h1 class="edit-main-title">DATOS PERSONALES</h1>
                    <p class="edit-sub-title">Actualiza tu información personal</p>
                </header>

                <form class="edit-form-container" id="editProfileForm">
                    <!-- Grid para campos del formulario -->
                    <div class="form-grid">
                        <!-- Nombre completo (EDITABLE) - Ocupa toda la fila -->
                        <div class="form-field-group full-width">
                            <label class="field-label" for="fullName">
                                <i class="fas fa-user"></i> NOMBRE COMPLETO *
                            </label>
                            <div class="input-wrapper">
                                <input class="form-input-field" type="text" id="fullName"
                                    placeholder="Ingresa tu nombre completo" required>
                            </div>
                        </div>

                        <!-- Correo electrónico (SOLO LECTURA) -->
                        <div class="form-field-group">
                            <label class="field-label" for="email">
                                <i class="fas fa-envelope"></i> CORREO ELECTRÓNICO
                            </label>
                            <div class="input-wrapper">
                                <input class="form-input-field readonly-field" type="email" id="email"
                                    placeholder="Tu correo electrónico" readonly>
                                <span class="readonly-badge">
                                    <i class="fas fa-lock"></i> Solo lectura
                                </span>
                            </div>
                            <p class="field-info">No se puede modificar el correo</p>
                        </div>

                        <!-- Nombre de empresa (SOLO LECTURA) -->
                        <div class="form-field-group">
                            <label class="field-label" for="organizationName">
                                <i class="fas fa-building"></i> ORGANIZACIÓN
                            </label>
                            <div class="input-wrapper">
                                <input class="form-input-field readonly-field" type="text" id="organizationName"
                                    placeholder="Nombre de tu organización" readonly>
                                <span class="readonly-badge">
                                    <i class="fas fa-lock"></i> Solo lectura
                                </span>
                            </div>
                            <p class="field-info">Contacta al administrador principal</p>
                        </div>

                        <!-- ===== NUEVO: ÁREA / DEPARTAMENTO (EDITABLE) ===== -->
                        <div class="form-field-group">
                            <label class="field-label" for="areaSelect">
                                <i class="fas fa-building"></i> ÁREA / DEPARTAMENTO
                            </label>
                            <div class="input-wrapper">
                                <select class="form-input-field" id="areaSelect">
                                    <option value="">Selecciona un área</option>
                                </select>
                            </div>
                        </div>

                        <!-- ===== NUEVO: CARGO EN EL ÁREA (EDITABLE) ===== -->
                        <div class="form-field-group">
                            <label class="field-label" for="cargoEnAreaSelect">
                                <i class="fas fa-user-tie"></i> CARGO EN EL ÁREA
                            </label>
                            <div class="input-wrapper">
                                <select class="form-input-field" id="cargoEnAreaSelect" disabled>
                                    <option value="">Primero selecciona un área</option>
                                </select>
                            </div>
                        </div>

                        <!-- Cargo Administrador (SOLO LECTURA - INFORMATIVO) -->
                        <div class="form-field-group">
                            <label class="field-label" for="position">
                                <i class="fas fa-briefcase"></i> ROL EN EL SISTEMA
                            </label>
                            <div class="input-wrapper">
                                <input class="form-input-field readonly-field" type="text" id="position"
                                    value="Administrador" readonly>
                                <span class="readonly-badge">
                                    <i class="fas fa-lock"></i> Solo lectura
                                </span>
                            </div>
                            <p class="field-info">Tu nivel de acceso en el sistema</p>
                        </div>
                    </div>

                    <!-- Nota sobre permisos -->
                    <div class="permissions-note">
                        <i class="fas fa-info-circle"></i>
                        <strong>Nota:</strong> Los campos bloqueados están protegidos por políticas de seguridad.
                        El área y cargo que selecciones te ayudarán a definir tu puesto dentro de la organización.
                    </div>

                    <!-- Mensajes -->
                    <div class="message-container" id="mainMessage"></div>

                    <!-- Acciones del formulario (SOLO GUARDAR Y CANCELAR) -->
                    <div class="form-actions">
                        <button type="button" class="action-btn save-btn" id="saveChangesBtn">
                            <i class="fas fa-save"></i> GUARDAR CAMBIOS
                        </button>
                        <button type="button" class="action-btn cancel-btn" id="cancelBtn">
                            <i class="fas fa-times"></i> CANCELAR
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal para fotos -->
    <div class="photo-modal" id="photoModal">
        <div class="modal-content">
            <h3 class="modal-title">
                <i class="fas fa-camera"></i>
                <span id="modalTitle">CAMBIAR FOTO</span>
            </h3>
            <div class="modal-preview">
                <img id="previewImage" class="preview-image" src="" alt="Vista previa">
            </div>
            <p class="modal-message" id="modalMessage">
                ¿Deseas usar esta imagen?
            </p>
            <div class="modal-buttons">
                <button class="modal-btn modal-btn-confirm" id="confirmChangeBtn">CONFIRMAR</button>
                <button class="modal-btn modal-btn-cancel" id="cancelChangeBtn">CANCELAR</button>
            </div>
        </div>
    </div>

    <!-- Scripts externos -->
    <script type="module" src="/components/themeloader.js"></script>
    <script src="/components/navbar-admin-component.js"></script>
    <script src="/components/footer-admin-component.js"></script>
    <script type="module" src="/components/particulas.js"></script>

    <!-- Script principal - MÓDULO ES6 -->
    <script type="module" src="editAdmin.js"></script>
</body>

</html>